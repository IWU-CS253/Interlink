{% extends 'layout.html' %}
{% block body %}
<div class="m-4">
    <div class="d-flex ">
        <h1>{{ team_name }}</h1>
        <form action="/join_team_submit" method="post">
            <input type="hidden" name="team" value="{{ team_name }}">
            <button class="btn btn-success ms-3 mt-2" type="submit" {% if league_status != 'SignUp' %} hidden {% endif %}>Join Team</button>
        </form>
    </div>
        {# Checks if team manager and hides button if not #}
        {% if team_manager_bool %}
            <div>
                <a href="{{ url_for('team_manager', team_id=team_id) }}" class="btn btn-primary mt-2">
                    Manage Team
                </a>
            </div>
        {% endif %}
    <div>
        <div>
            <p><strong>League:</strong> {{ league_name }}</p>
            <p><strong>Sport:</strong> {{ sport }}</p>
            <p><strong>Manager:</strong> {{ team_manager }}</p>
        </div>
        <div class="mt-3">
            <strong>Roster:</strong>
            {# Displays each player #}
            {% for player in roster %}
            <ul>
                <li>{{ player }}</li>
            </ul>
            {% endfor %}
        </div>
        <div class="mt-3">
            <strong>Upcoming Games:</strong>
            <ul style="height:400px" class="list-group overflow-auto mb-4">
                {# Displays upcoming games #}
                {% for game in games %}
                    {# limits display to next 7 games #}
                    {% if loop.index <= 7 %}
                    <li class="w-75 list-group-item d-flex justify-content-between align-items-center">
                        <span>
                            {{ game['home_team'] }} vs {{ game['away_team'] }}
                            ({{ game['game_date'] }})
                        </span>
                    </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}